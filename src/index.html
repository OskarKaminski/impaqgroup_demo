<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title>Spotify API Demo</title>
    <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css"/>
    <link href="vendor/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">
</head>
<body ng-controller="UsersCtrl">
<div class="container">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th style="width: 3%"></th>
            <th style="width: 3%">id</th>
            <th style="width: 10%">name</th>
            <th style="width: 10%">surname</th>
            <th style="width: 10%">date of birth</th>
            <th style="width: 14%">mobile number</th>
            <th style="width: 30%">address (city + street + house number)</th>
            <th style="width: 20%">
                <button class="btn btn-primary" ng-click="rowform.$show()">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    Edit selected
                </button>
            </th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="user in users">
            <td><input type="checkbox"/></td>
            <td>{{ user.id }}</td>

            <td>
                <span editable-text="user.name" e-name="name" e-form="rowform" e-required>
                  {{ user.name || 'empty' }}
                </span>
            </td>
            <td>
                <span editable-text="user.surname" e-name="surname" e-form="rowform" e-required>
                  {{ user.surname || 'empty' }}
                </span>
            </td>
            <td>
                <span editable-text="user.date_of_birth" e-name="date_of_birth" e-form="rowform" e-required>
                  {{ user.date_of_birth || 'empty' }}
                </span>
            </td>
            <td>
                <span editable-text="user.mobile_number" e-name="mobile_number" e-form="rowform" e-required>
                  {{ user.mobile_number || 'empty' }}
                </span>
            </td>
            <td>
                <span editable-text="user.address.city" e-name="address[city]" e-form="rowform" e-required>
                </span>
                <span editable-text="user.address.street" e-name="address.street" e-form="rowform" e-required>
                </span>
                <span editable-text="user.address.house_number" e-name="address.house_number" e-form="rowform" e-required>
                    {{user.address.city}}, {{user.address.street}} {{user.address.house_number}}
                </span>
            </td>
            <td>
                <form editable-form name="rowform"
                      onbeforesave="save(user)"
                      ng-show="rowform.$visible"
                      class="form-buttons form-inline"
                      shown="inserted == user">
                    <button type="submit"
                            ng-disabled="rowform.$waiting"
                            class="btn btn-primary">
                        save
                    </button>
                    <button type="button"
                            ng-disabled="rowform.$waiting"
                            ng-click="rowform.$cancel()"
                            class="btn btn-default">
                        cancel
                    </button>
                </form>
                <div class="buttons" ng-show="!rowform.$visible">

                    <button class="btn btn-primary" ng-click="rowform.$show()">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        edit
                    </button>
                    <button class="btn btn-danger" ng-click="remove(user, $index)">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        delete
                    </button>

                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<script src="vendor/jquery/dist/jquery.min.js"></script>
<script src="vendor/angular/angular.min.js"></script>
<script src="vendor/angular-resource/angular-resource.js"></script>
<script src="vendor/angular-mocks/angular-mocks.js"></script>
<script src="vendor/angular-xeditable/dist/js/xeditable.js"></script>
<script src="mocks/user.js"></script>
<script src="app/users/module.js"></script>
<script src="app/app.js"></script>
<script src="app/users/controllers/UsersCtrl.js"></script>
<script src="app/users/services/UserSvc.js"></script>
</body>
</html>